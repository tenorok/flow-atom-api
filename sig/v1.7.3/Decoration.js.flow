// -*- mode: javascript; -*- // @flow
/* eslint-disable no-undef */

declare type DecorationType =
  | "block"
  | "gutter"
  | "highlight"
  | "line-number"
  | "line"
  | "overlay"

declare type DecorationProperties =
  | { type: "block"
    , class: string
    , item: HTMLElement | Object
    , position: "before" | "after"
    }
  | { type: "gutter"
    , class: string
    , item: HTMLElement | Object
    , onlyEmpty?: boolean
    , onlyNonEmpty?: boolean
    }
  | { type: "highlight"
    , class: string
    , item: HTMLElement | Object
    }
  | { type: "line" | "line-number"
    , class: string
    , item: HTMLElement | Object
    , onlyHead?: boolean
    , onlyEmpty?: boolean
    , onlyNonEmpty?: boolean
    }
  | { type: "overlay"
    , class: string
    , item: HTMLElement | Object
    , position?: "head" | "tail"
    }

declare class Decoration {
  destroy(): void;
  getId(): number; // FIXME
  getMarker(): TextEditorMarker;
  getProperties(): DecorationProperties; // FIXME
  onDidChangeProperties(callback: (event: {
    oldProperties: DecorationProperties,
    newProperties: DecorationProperties,
  }) => void): Disposable; // FIXME
  onDidDestroy(callback: () => void): Disposable;
  setProperties(newProperties: DecorationProperties): void; // FIXME
}
