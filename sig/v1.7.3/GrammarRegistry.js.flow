// -*- mode: javascript; -*- // @flow
/* eslint-disable no-undef */

declare class GrammarRegistry {
  addGrammar(grammar: Grammar): Disposable;
  getGrammars(): Grammar[];
  grammarForScopeName(scopeName: string): ?Grammar; // FIXME
  loadGrammar(
    grammarPath: string,
    callback: (error: ?Error, grammar: ?Grammar) => void
  ): void;
  loadGrammarSync(grammarPath: string): Grammar;
  onDidAddGrammar(
    callback: (grammar: Grammar) => void
  ): Disposable;
  onDidUpdateGrammar(
    callback: (grammar: Grammar) => void
  ): Disposable;
  readGrammar(
    grammarPath: string,
    callback: (error: ?Error, grammar: ?Grammar) => void
  ): void;
  removeGrammarForScopeName(scopeName: string): ?Grammar; // FIXME
  readGrammarSync(grammarPath: string): Grammar;
}
