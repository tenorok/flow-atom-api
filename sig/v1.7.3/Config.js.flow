// -*- mode: javascript; -*- // @flow
/* eslint-disable no-undef */

declare class Config {
  get(
    keyPath: string,
    options?: {
      sources?: string[],
      excludeSources?: string[],
      scope?: ScopeDescriptor,
    },
  ): any;
  getAll(
    keyPath: string,
    options: {
      sources?: string[],
      excludeSources?: string[],
      scope?: ScopeDescriptor,
    },
  ): Array<{
    scopeDescriptor: ScopeDescriptor,
    value: any,
  }>;
  getSchema(keyPath: string): ?Object; // does this conform to some spec?
  getSources(): string[];
  getUserConfigPath(): string;
  observe(
    keyPath: string,
    options?: { scope?: ScopeDescriptor },
    callback: (value: any) => void,
  ): Disposable;
  onDidChange(
    keyPath?: string,
    options?: {
      scope?: ScopeDescriptor,
    },
    callback:
      (event: {
        newValue: any,
        oldValue: any,
      }) => void,
  ): Disposable;
  set(
    keyPath: string,
    value: any,
    options?: {
      scopeSelector?: string,
      source?: string,
    },
  ): boolean;
  transact(callback: () => void): void;
  unset(
    keyPath: string,
    options?: {
      scopeSelector?: string,
      source?: string,
    },
  ): void;
}
