// -*- mode: javascript; -*- // @flow
/* eslint-disable no-undef */

declare type GrammarToken = // FIXME
  | { value: string, scopes: string[] }

declare type GrammarRule = // FIXME
  | Object

declare class Grammar {
  onDidUpdate(callback: () => void): Disposable;
  tokenizeLine(
    line: string,
    ruleStack?: GrammarRule[],
    firstLine?: boolean,
  ): {
    line: string,
    tags: number[], // FIXME
    tokens: GrammarToken[],
    ruleStack: GrammarRule[],
  }; // FIXME
  tokenizeLines(text: string): (GrammarToken[])[]; // FIXME
}
