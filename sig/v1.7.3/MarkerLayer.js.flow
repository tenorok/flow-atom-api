// -*- mode: javascript; -*- // @flow

import type { Point } from "./Point.js.flow";
import type { TextEditorMarker } from "./TextEditorMarker.js.flow";

declare type FindMarkersProps =
  | { startPosition?: Point
    , endPosition?: Point
    , containsPoint?: Point
    , containsRange?: Range
    , startRow?: number
    , endRow?: number
    , intersectsRow?: number
    }

declare class MarkerLayer {
  copy(): MarkerLayer;

  destroy(): void;

  // FIXME: docs don't mention arg; unclear on arg type; same for return
  findMarkers(props: FindMarkersProps): TextEditorMarker[];

  // FIXME: docs don't mention arg; unclear on arg type
  getMarker(id: number): TextEditorMarker;

  getMarkers(): TextEditorMarker[];

  getMarkerCount(): number;

  // FIXME: docs unclear on return type
  isDestroyed(): boolean;

  // FIXME: docs doesn't mention args; unclear on arg types; same for return
  markRange(range: Range, props: MarkRangeProps): TextEditorMarker;
}

declare type MarkRangeProps =
  | { reversed: boolean
    , persistent: boolean
    , invalidate: "inside" | "never" | "overlap" | "surround" | "touch"
    }

export type {
  FindMarkersProps,
  MarkRangeProps,
  MarkerLayer,
};
