// -*- mode: javascript; -*- // @flow
/* eslint-disable no-undef */

declare class Config {
  get(
    keyPath: string,
    options?: {
      sources?: string[],
      excludeSources?: string[],
      scope?: ScopeDescriptor,
    },
  ): ?JSON;
  getAll(
    keyPath: string,
    options: {
      sources?: string[],
      excludeSources?: string[],
      scope?: ScopeDescriptor,
    },
  ): Array<{
    scopeDescriptor: ScopeDescriptor,
    value: JSON,
  }>;
  getSchema(keyPath: string): ?Object; // does this conform to some spec?
  getSources(): string[];
  getUserConfigPath(): string;
  observe(
    keyPath: string,
    options?: { scope?: ScopeDescriptor },
    callback: (value: JSON) => void,
  ): Disposable;
  onDidChange(
    keyPath?: string,
    options?: {
      scope?: ScopeDescriptor,
    },
    callback:
      (event: {
        newValue: JSON,
        oldValue: JSON,
      }) => void,
  ): Disposable;
  set(
    keyPath: string,
    value: JSON,
    options?: {
      scopeSelector?: string,
      source?: string,
    },
  ): boolean;
  transact(callback: () => void): void;
  unset(
    keyPath: string,
    options?: {
      scopeSelector?: string,
      source?: string,
    },
  ): void;
}
